@model ModelCL.Contenido

@{
    ViewBag.Title = "Artículo | Ver";
}

<h2>Ver artículo</h2>

<div>
    <h4>Artículo</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.Label("Título")
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ContenidoTitulo)
        </dd>

        <dt>
            @Html.Label("Descripción")
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ContenidoDescripcion)
        </dd>

        <dt>
            @Html.Label("Cuerpo")
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ContenidoCuerpo)
        </dd>

        <dt>
            @Html.Label("Temas")
        </dt>

        <dd>
            <ul>
                @foreach (var item in Model.Articulo.Tema.OrderBy(t => t.TemaNombre))
                {
                    <li>@Html.DisplayFor(modelItem => item.TemaNombre)</li>
                }
            </ul>
        </dd>

        @foreach (var item in Model.Multimedia.OrderBy(m => m.MultimediaOrden))
        {
            @*<dt>
                    @Html.Label("Imágen", htmlAttributes: new { @class = "control-label col-md-2" })
                </dt>*@

            <dd>
                <img src="/@Html.DisplayFor(modelItem => item.MultimediaUrl)" height="70" width="70" alt="Imágen no encontrada" />
            </dd>
        }

    </dl>
</div>
<p>
    @Html.ActionLink("Volver al listado", "Index")
</p>

<div id="comentarios">
    @Html.Action("_Index", "Comentarios", new { idContenido = Model.ContenidoId })
</div>

<div id="crear_comentario">
    @if (Request.Cookies[FormsAuthentication.FormsCookieName] != null)
    {

        @Html.Action("_Create", "Comentarios", new { idContenido = Model.ContenidoId })

    }
    else {
        <a href="/login">Inicia sesión para comentar</a>
    }
</div>
